"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[112],{95508:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var r=n(17624),s=n(4552);const i={},o="Smart Pet Door",a={id:"project/2024/andra_ioana.uritu/index",title:"Smart Pet Door",description:"A smart pet door that unlocks automatically when a registered pet approaches.",source:"@site/docs/project/2024/andra_ioana.uritu/index.md",sourceDirName:"project/2024/andra_ioana.uritu",slug:"/project/2024/andra_ioana.uritu/",permalink:"/docs/project/2024/andra_ioana.uritu/",draft:!1,unlisted:!1,editUrl:"https://github.com/UPB-FILS-MA/upb-fils-ma.github.io/edit/main/docs/project/2024/andra_ioana.uritu/index.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"FloraMood Smart Pot",permalink:"/docs/project/2024/ana_maria.comeaga/"},next:{title:"GamePad Xinput API",permalink:"/docs/project/2024/andrei.dragota/"}},c={},d=[{value:"Description",id:"description",level:2},{value:"Motivation",id:"motivation",level:2},{value:"Architecture",id:"architecture",level:2},{value:"System Operation",id:"system-operation",level:3},{value:"Log",id:"log",level:2},{value:"Week 6 - 12 May",id:"week-6---12-may",level:3},{value:"Week 7 - 19 May",id:"week-7---19-may",level:3},{value:"Week 20 - 26 May",id:"week-20---26-may",level:3},{value:"Hardware",id:"hardware",level:2},{value:"Schematics\\",id:"schematics",level:3},{value:"Bill of Materials",id:"bill-of-materials",level:3},{value:"Software",id:"software",level:2},{value:"Links",id:"links",level:2}];function h(e){const t={a:"a",admonition:"admonition",br:"br",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"smart-pet-door",children:"Smart Pet Door"}),"\n",(0,r.jsx)(t.p,{children:"A smart pet door that unlocks automatically when a registered pet approaches."}),"\n",(0,r.jsxs)(t.admonition,{type:"info",children:[(0,r.jsx)(t.mdxAdmonitionTitle,{}),(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Author"}),": Uritu Andra-Ioana ",(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.strong,{children:"GitHub Project Link"}),": ",(0,r.jsx)(t.a,{href:"https://github.com/UPB-FILS-MA/project-andrauritu",children:"https://github.com/UPB-FILS-MA/project-andrauritu"})]})]}),"\n",(0,r.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,r.jsx)(t.p,{children:"The Smart Pet Door project is designed to provide pets with the freedom to enter the home while ensuring security against unregistered animals. It utilizes a combination of BLE beacon technology and an infrared motion sensor to detect and authenticate a pet's approach and to automatically manage access."}),"\n",(0,r.jsx)(t.h2,{id:"motivation",children:"Motivation"}),"\n",(0,r.jsx)(t.p,{children:"This project idea actually came from my mom. Our family cat, admittedly not the sharpest tool in the shed, has struggled with using traditional pet houses. Every time we tried giving him one, other neighborhood cats would take it over. They\u2019d get inside, eat his food, and leave him outside, especially when it rained and we weren't home to let him in. To help him have a place of his own, my mom thought a smart pet door would be really useful. This system uses a beacon-based entry mechanism that ensures only our cat can enter, preventing other animals from accessing his shelter and food. This door not only promises to give our beloved but intellectually challenged cat the comfort and security he deserves but also offers peace of mind, knowing he has access to his own space, regardless of whether we are home to assist him."}),"\n",(0,r.jsx)(t.h2,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Architecture",src:n(14148).c+"",width:"2100",height:"1500"})}),"\n",(0,r.jsx)(t.p,{children:"The system consists of the following main components:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Infrared Sensor"}),": Detects movement near the door."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Raspberry Pi Pico W"}),": Acts as the central processing unit, interpreting signals from the infrared sensor and controlling the other components."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"HM-10 BLE Module"}),": Handles Bluetooth communication to scan for the NanoBeacon worn by the pet."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Servomotor"}),": Operates the locking mechanism of the door."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"NanoBeacon IN100"}),": The beacon worn by the pet, which is scanned by the HM-10 module."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"system-operation",children:"System Operation"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.strong,{children:"Infrared Sensor"})," detects motion near the door and signals this to the ",(0,r.jsx)(t.strong,{children:"Raspberry Pi Pico W"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.strong,{children:"Raspberry Pi Pico W"}),", upon receiving the motion alert, instructs the ",(0,r.jsx)(t.strong,{children:"HM-10 BLE Module"})," to scan for the NanoBeacon."]}),"\n",(0,r.jsxs)(t.li,{children:["If the ",(0,r.jsx)(t.strong,{children:"HM-10 BLE Module"})," detects the NanoBeacon within a predetermined range, it communicates this back to the ",(0,r.jsx)(t.strong,{children:"Raspberry Pi Pico W"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.strong,{children:"Raspberry Pi Pico W"})," then commands the ",(0,r.jsx)(t.strong,{children:"Servomotor"})," to unlock the door."]}),"\n",(0,r.jsxs)(t.li,{children:["The door remains unlocked for 10 minutes, after which it re-locks automatically unless the ",(0,r.jsx)(t.strong,{children:"Infrared Sensor"})," detects additional movement, prompting the door to stay unlocked or re-scan for the beacon."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"log",children:"Log"}),"\n",(0,r.jsx)(t.h3,{id:"week-6---12-may",children:"Week 6 - 12 May"}),"\n",(0,r.jsx)(t.p,{children:"In this week I bought the last of the necessary components and configured the NanoBeacon to emmit a certain UUID, and also tested the RSSI values to see which values correspond to certain distances from the beacon scanner (I used my phone for scanning beacons initially)."}),"\n",(0,r.jsx)(t.h3,{id:"week-7---19-may",children:"Week 7 - 19 May"}),"\n",(0,r.jsx)(t.p,{children:"In this period I configured the HM-10 module to scan beacons and find the one I had programmed, and it successfully did so in PowerShell. However, the code is still in progress in Embassy, where I am trying to put all functionalities together (the beacon scanning, motion sensing and operating the servomotor accordingly). I did the KiCad schematics and an initial, basic prototype of the door (mounted, for now, on a cardboard, using tape)."}),"\n",(0,r.jsx)(t.h3,{id:"week-20---26-may",children:"Week 20 - 26 May"}),"\n",(0,r.jsx)(t.h2,{id:"hardware",children:"Hardware"}),"\n",(0,r.jsxs)(t.p,{children:["The circuitry:\n",(0,r.jsx)(t.img,{alt:"Circuitry",src:n(57256).c+"",width:"4096",height:"2786"})]}),"\n",(0,r.jsxs)(t.p,{children:["When an authorized pet (carying the BLE beacon) is at the door (the servomotor moves to horizontal position to allow access):\n",(0,r.jsx)(t.img,{alt:"Access Permitted",src:n(22144).c+"",width:"5376",height:"3024"})]}),"\n",(0,r.jsxs)(t.p,{children:["When an unauthorized pet is trying to enter (the servomotor remains vertical, stopping the flap door from being pushed):\n",(0,r.jsx)(t.img,{alt:"Access Denied",src:n(17612).c+"",width:"5376",height:"3024"})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Raspberry Pi Pico W"}),": The microcontroller, coordinating all device interactions."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"NanoBeacon IN100"}),": Worn by the cat, programmed with a unique UUID for door access."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"CR1225"}),": 3V Lithium Coin Battery which powers the NanoBeacon on the cat's collar after it has been configured."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"CP2102 USB-to-Serial Module"}),": Used in initial setup for programming the NanoBeacon."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Infrared Sensor"}),": Detects motion near the door to activate the system."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"HM-10 BLE Module"}),": Enables Bluetooth communication to scan for the beacon on the cat."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Servomotor"}),": Controls the lock mechanism of the pet door, switching between locked and unlocked."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"USB Cable"}),": Connects and powers the Raspberry Pi Pico W and the CP2102 during setup."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Power Supply"}),": An external battery to keep the system running independently."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"schematics",children:"Schematics\\"}),"\n",(0,r.jsxs)(t.p,{children:["This is the KiCad schematic:\n",(0,r.jsx)(t.img,{alt:"Schematic",src:n(52048).c+"",width:"2653",height:"1492"})]}),"\n",(0,r.jsx)(t.h3,{id:"bill-of-materials",children:"Bill of Materials"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Device"}),(0,r.jsx)(t.th,{children:"Usage"}),(0,r.jsx)(t.th,{children:"Price"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html",children:"Raspberry Pi Pico WH"})}),(0,r.jsx)(t.td,{children:"Acts as the central controller"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://www.optimusdigital.ro/ro/placi-raspberry-pi/12395-raspberry-pi-pico-wh.html?search_query=pico+wh&results=32",children:"38.99 RON"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://people.ece.cornell.edu/land/courses/ece4760/PIC32/uart/HM10/DSD%20TECH%20HM-10%20datasheet.pdf",children:"HM-10 BLE Module"})}),(0,r.jsx)(t.td,{children:"For scanning the NanoBeacon"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://cleste.ro/modul-bluetooth-4-0-ble.html",children:"35.47 RON"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://cdn.sparkfun.com/assets/3/d/5/5/1/IN100-Datasheet.pdf",children:"IN100 NanoBeacon"})}),(0,r.jsx)(t.td,{children:"Attached to the pet\u2019s collar"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://www.robofun.ro/wireless/breakout-sparkfun-nanobeacon-in100.html",children:"44 RON"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://datasheetspdf.com/pdf-down/S/G/9/SG90-TowerPro.pdf",children:"Servomotor"})}),(0,r.jsx)(t.td,{children:"Operates the door lock"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://cleste.ro/motor-servo-sg90-9g.html",children:"12.72 RON"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://www.mpja.com/download/31227sc.pdf",children:"PIR Sensor HC-SR501"})}),(0,r.jsx)(t.td,{children:"Detects motion at the door"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://www.robofun.ro/pir/hc-sr501-pir-motion-sensor-module-green.html",children:"5.25 RON"})})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"software",children:"Software"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Library"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Usage"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://docs.embassy.dev/embassy-executor/git/std/index.html",children:"embassy-executor"})}),(0,r.jsx)(t.td,{children:"Asynchronous executor for Rust embedded systems"}),(0,r.jsx)(t.td,{children:"Used for task scheduling and asynchronous programming"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://embassy.dev/book/dev/time_keeping.html",children:"embassy-time"})}),(0,r.jsx)(t.td,{children:"Time management library"}),(0,r.jsx)(t.td,{children:"Used for time-based operations such as delays"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://docs.embassy.dev/embassy-rp/git/rp2040/index.html",children:"embassy-rp"})}),(0,r.jsx)(t.td,{children:"Peripheral access library"}),(0,r.jsx)(t.td,{children:"Used for initializing and interacting with peripherals"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://github.com/serialport/serialport-rs",children:"serialport"})}),(0,r.jsx)(t.td,{children:"A Rust library for working with serial ports."}),(0,r.jsx)(t.td,{children:"Used to communicate with the HM-10 BLE module for beacon scanning and Bluetooth communication."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"http://www.jnhuamao.cn/download_rom_en.asp?id=",children:"HMSoft V540"})}),(0,r.jsx)(t.td,{children:"The firmware download files for the HM-10 BLE module."}),(0,r.jsx)(t.td,{children:"I will try to use the  HM-10 HMSoft CC2541 WeChat Airsync V540 firmware upgrade file [2016-11]."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"https://inplay-tech.com/nanobeacon-config-tool",children:"NanoBeacon Config tool"})}),(0,r.jsx)(t.td,{children:"The tool to configure the NanoBeacon's UUID and characteristics."}),(0,r.jsx)(t.td,{children:"I will set up the IN-100 using this and then search for the specific configurations with the HM-10 module."})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"links",children:"Links"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://www.martyncurrey.com/hm-10-bluetooth-4ble-modules/",children:"https://www.martyncurrey.com/hm-10-bluetooth-4ble-modules/"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://forum.arduino.cc/t/how-to-make-an-ibeacon-detector-with-arduino/278665/68",children:"https://forum.arduino.cc/t/how-to-make-an-ibeacon-detector-with-arduino/278665/68"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://engineering.fresnostate.edu/research/bulldogmote/documents/11.%20HM10%20BLE_FTDI.pdf",children:"https://engineering.fresnostate.edu/research/bulldogmote/documents/11.%20HM10%20BLE_FTDI.pdf"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://magpi.raspberrypi.com/articles/raspberry-pi-cat-flap",children:"https://magpi.raspberrypi.com/articles/raspberry-pi-cat-flap"})}),"\n"]})]})}function l(e={}){const{wrapper:t}={...(0,s.M)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},14148:(e,t,n)=>{n.d(t,{c:()=>r});const r=n.p+"assets/images/Architecture-e50a269431539caf3d271c0443bd84ae.jpg"},17612:(e,t,n)=>{n.d(t,{c:()=>r});const r=n.p+"assets/images/access_denied-2535e02d81e2ad6243b98a7f8722309e.png"},22144:(e,t,n)=>{n.d(t,{c:()=>r});const r=n.p+"assets/images/access_permitted-e701d5472c573b913b4bce26a094098a.png"},57256:(e,t,n)=>{n.d(t,{c:()=>r});const r=n.p+"assets/images/circuitry-3e8122500425e562db1730b8eba38312.png"},52048:(e,t,n)=>{n.d(t,{c:()=>r});const r=n.p+"assets/images/kicad_schematic-5594858c54b5b22dd88d69f68d18ee26.png"},4552:(e,t,n)=>{n.d(t,{I:()=>a,M:()=>o});var r=n(11504);const s={},i=r.createContext(s);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);